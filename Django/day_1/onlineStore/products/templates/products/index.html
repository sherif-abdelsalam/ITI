{% extends 'layouts/base.html' %}
{% load static %}

{% block content %}

<h2 class="section-title">Our Products</h2>

<div style="max-width:1200px;margin:12px 0 24px;display:flex;justify-content:flex-end;">
    <a href="{% url 'products.create' %}" class="btn btn-primary" style="padding:10px 14px;border-radius:10px;text-decoration:none;">+ Add Product</a>
</div>

{% if products %}
<div class="products-grid">

    {% for product in products %}
    <div class="product-card">

        <!-- Product Image -->
        <div class="product-image">
            {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
                <span>ðŸ“¦ No Image Available</span>
            {% endif %}
        </div>

        <!-- Product Info -->
        <div class="product-info">

            <!-- Product Title -->
            <h3 class="product-name">{{ product.name }}</h3>

            <!-- Product Price -->
            <div class="product-price">${{ product.price|floatformat:2 }}</div>

            <!-- Stock Badge -->
            <div>
                {% if product.stock > 10 %}
                    <span class="stock-badge stock-available">âœ“ In Stock</span>
                {% elif product.stock > 0 %}
                    <span class="stock-badge stock-low">âš  Low Stock</span>
                {% else %}
                    <span class="stock-badge stock-out">âœ— Out of Stock</span>
                {% endif %}
            </div>

            <!-- View Details Button -->
            <div class="product-actions">
                <a href="{{ product.show_url }}" class="btn btn-primary">
                    View Details
                </a>
                <a href="{{ product.edit_url }}" class="btn btn-primary">
                    Edit
                </a>
                <a href="{{ product.delete_url }}" class="btn btn-primary">
                    Delete Product
                </a>
            </div>

        </div>
    </div>
    {% endfor %}

</div>

{% else %}
<div class="empty-state">
    <div class="empty-state-icon">ðŸ“¦</div>
    <h3>No Products Available</h3>
    <p>Sorry, there are no products to display at the moment.</p>
</div>
{% endif %}

{% endblock %}
